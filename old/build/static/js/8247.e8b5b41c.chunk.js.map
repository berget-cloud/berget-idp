{"version":3,"file":"static/js/8247.e8b5b41c.chunk.js","mappings":"+MAQc,SAAUA,EAA6BC,GACjD,MAAM,UAAEC,EAAS,KAAEC,EAAI,gBAAEC,EAAe,SAAEC,EAAQ,QAAEC,GAAYL,GAE1D,OAAEM,IAAWC,EAAAA,EAAAA,GAAU,CACzBJ,kBACAE,aAGE,6BAAEG,EAA4B,qBAAEC,GAAyBR,GAEzD,IAAES,EAAG,OAAEC,GAAWT,GAElB,iBAAEU,IAAqBC,EAAAA,EAAAA,GAAoB,CAC7CC,oBAAqB,+BACrBC,WAAY,CACR,CACIC,KAAM,kBACNC,YAAa,4rFA4DEN,EAAO,yIAEPA,EAAO,sFACPA,EAAO,2vDAgCJA,EAAO,2JAEPA,EAAO,uFACPA,EAAO,umBAsBrC,OAJAO,EAAAA,EAAAA,YAAU,KACNN,GAAkB,GACnB,KAGCO,EAAAA,EAAAA,MAACf,EAAQgB,OAAAC,OAAA,CACLpB,UAAWA,EACXC,KAAMA,EACNC,gBAAiBA,EACjBE,QAASA,EACTiB,WAAYZ,EAAI,gCAA8B,CAAAa,SAAA,EAE9CJ,EAAAA,EAAAA,MAAA,MAAAC,OAAAC,OAAA,CAAKG,WAAWC,EAAAA,EAAAA,GAAK,aAAc,eAAgB,cAAenB,EAAO,2BAA0B,aAAa,iBAAe,CAAAiB,SAAA,EAC3HG,EAAAA,EAAAA,KAAA,MAAAN,OAAAC,OAAA,CAAKG,UAAU,oBAAkB,CAAAD,UAC7BG,EAAAA,EAAAA,KAAA,KAAGF,UAAU,4BAA2B,cAAa,aAEzDL,EAAAA,EAAAA,MAAA,KAAAC,OAAAC,OAAA,CAAIG,UAAU,qBAAmB,CAAAD,SAAA,EAC7BG,EAAAA,EAAAA,KAAA,OAAAN,OAAAC,OAAA,CAAMG,UAAU,oBAAkB,CAAAD,SAAA,oBACjCb,EAAI,2CAETgB,EAAAA,EAAAA,KAAA,MAAAN,OAAAC,OAAA,CAAKG,UAAU,2BAAyB,CAAAD,UACpCG,EAAAA,EAAAA,KAAA,KAAAH,SAAIb,EAAI,kDAIhBgB,EAAAA,EAAAA,KAAA,KAAAN,OAAAC,OAAA,CAAIM,GAAG,yBAAyBH,UAAWlB,EAAO,wBAAsB,CAAAiB,SACnEf,EAA6BoB,gCAAgCC,KAAI,CAACC,EAAMC,KACrEZ,EAAAA,EAAAA,MAAA,MAAAI,SAAA,EACIJ,EAAAA,EAAAA,MAAA,QAAAI,SAAA,CAAOQ,EAAQ,EAAC,OAAS,IAAED,EAAKE,MAAM,EAAG,GAAE,IAAGF,EAAKE,MAAM,EAAG,GAAE,IAAGF,EAAKE,MAAM,KADvED,SAOjBZ,EAAAA,EAAAA,MAAA,MAAAC,OAAAC,OAAA,CAAKG,UAAWlB,EAAO,2BAAyB,CAAAiB,SAAA,EAC5CJ,EAAAA,EAAAA,MAAA,SAAAC,OAAAC,OAAA,CAAQM,GAAG,qBAAqBH,WAAWC,EAAAA,EAAAA,GAAK,cAAe,aAAcT,KAAK,UAAQ,CAAAO,SAAA,EACtFG,EAAAA,EAAAA,KAAA,KAAGF,UAAU,eAAc,cAAa,SAAS,IAAEd,EAAI,6BAE3DS,EAAAA,EAAAA,MAAA,SAAAC,OAAAC,OAAA,CAAQM,GAAG,wBAAwBH,WAAWC,EAAAA,EAAAA,GAAK,cAAe,aAAcT,KAAK,UAAQ,CAAAO,SAAA,EACzFG,EAAAA,EAAAA,KAAA,KAAGF,UAAU,cAAa,cAAa,SAAS,IAAEd,EAAI,gCAE1DS,EAAAA,EAAAA,MAAA,SAAAC,OAAAC,OAAA,CAAQM,GAAG,oBAAoBH,WAAWC,EAAAA,EAAAA,GAAK,cAAe,aAAcT,KAAK,UAAQ,CAAAO,SAAA,EACrFG,EAAAA,EAAAA,KAAA,KAAGF,UAAU,mBAAkB,cAAa,SAAS,IAAEd,EAAI,gCAKnES,EAAAA,EAAAA,MAAA,MAAAC,OAAAC,OAAA,CAAKG,UAAWlB,EAAO,uBAAqB,CAAAiB,SAAA,EACxCG,EAAAA,EAAAA,KAAA,SACIF,UAAWlB,EAAO,qBAClBU,KAAK,WACLW,GAAG,mCACHM,KAAK,mCACLC,SAAU,WAENC,SAASC,eAAe,6BAA6BC,UAAYC,KAAKC,OAC1E,KAEJb,EAAAA,EAAAA,KAAA,QAAAN,OAAAC,OAAA,CAAOmB,QAAQ,oCAAkC,CAAAjB,SAAEb,EAAI,+CAG3DS,EAAAA,EAAAA,MAAA,OAAAC,OAAAC,OAAA,CAAMoB,OAAQxC,EAAUyC,IAAIC,YAAanB,UAAWlB,EAAO,oBAAqBqB,GAAG,kCAAkCiB,OAAO,QAAM,CAAArB,SAAA,EAC9HG,EAAAA,EAAAA,KAAA,SAAOV,KAAK,SAASiB,KAAK,8BAA8BY,MAAOrC,EAA6BsC,uCAC5FpB,EAAAA,EAAAA,KAAA,SAAOV,KAAK,SAASiB,KAAK,cAAcY,MAAOrC,EAA6BuC,eAC5ErB,EAAAA,EAAAA,KAAA,SAAOV,KAAK,SAASW,GAAG,YAAYM,KAAK,YAAYY,MAAOlC,EAAO,mCAEnEe,EAAAA,EAAAA,KAACsB,EAAmB,CAAC1C,OAAQA,EAAQJ,KAAMA,IAE1CO,GACGU,EAAAA,EAAAA,MAAA8B,EAAAA,SAAA,CAAA1B,SAAA,EACIG,EAAAA,EAAAA,KAAA,SACIV,KAAK,SACLQ,UAAWlB,EAAO,gBAAiB,uBAAwB,sBAC3DqB,GAAG,4BACHkB,MAAOlC,EAAO,kCACd0B,UAAQ,KAEZX,EAAAA,EAAAA,KAAA,SAAAN,OAAAC,OAAA,CACIL,KAAK,SACLQ,UAAWlB,EAAO,gBAAiB,uBAAwB,sBAC3DqB,GAAG,8BACHM,KAAK,aACLY,MAAM,QAAM,CAAAtB,SAEXb,EAAI,uCAIbgB,EAAAA,EAAAA,KAAA,SACIV,KAAK,SACLQ,UAAWlB,EAAO,gBAAiB,uBAAwB,qBAAsB,sBACjFqB,GAAG,4BACHkB,MAAOlC,EAAO,kCACd0B,UAAQ,WAMhC,CAEA,SAASW,EAAoBhD,GACzB,MAAM,OAAEM,EAAM,KAAEJ,GAASF,GAEnB,IAAEU,GAAQR,EAEhB,OACIwB,EAAAA,EAAAA,KAAA,MAAAN,OAAAC,OAAA,CAAKM,GAAG,kBAAkBH,UAAWlB,EAAO,uBAAqB,CAAAiB,UAC7DG,EAAAA,EAAAA,KAAA,MAAAN,OAAAC,OAAA,CAAKG,UAAWlB,EAAO,8BAA4B,CAAAiB,UAC/CG,EAAAA,EAAAA,KAAA,MAAAN,OAAAC,OAAA,CAAKG,UAAU,YAAU,CAAAD,UACrBJ,EAAAA,EAAAA,MAAA,SAAAI,SAAA,EACIG,EAAAA,EAAAA,KAAA,SAAOV,KAAK,WAAWW,GAAG,kBAAkBM,KAAK,kBAAkBY,MAAM,KAAKK,gBAAgB,IAC7FxC,EAAI,kCAM7B,C","sources":["../node_modules/keycloakify/src/login/pages/LoginRecoveryAuthnCodeConfig.tsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { clsx } from \"keycloakify/tools/clsx\";\nimport { getKcClsx, type KcClsx } from \"keycloakify/login/lib/kcClsx\";\nimport { useInsertScriptTags } from \"keycloakify/tools/useInsertScriptTags\";\nimport type { PageProps } from \"keycloakify/login/pages/PageProps\";\nimport type { KcContext } from \"../KcContext\";\nimport type { I18n } from \"../i18n\";\n\nexport default function LoginRecoveryAuthnCodeConfig(props: PageProps<Extract<KcContext, { pageId: \"login-recovery-authn-code-config.ftl\" }>, I18n>) {\n    const { kcContext, i18n, doUseDefaultCss, Template, classes } = props;\n\n    const { kcClsx } = getKcClsx({\n        doUseDefaultCss,\n        classes\n    });\n\n    const { recoveryAuthnCodesConfigBean, isAppInitiatedAction } = kcContext;\n\n    const { msg, msgStr } = i18n;\n\n    const { insertScriptTags } = useInsertScriptTags({\n        componentOrHookName: \"LoginRecoveryAuthnCodeConfig\",\n        scriptTags: [\n            {\n                type: \"text/javascript\",\n                textContent: `\n\n                    /* copy recovery codes  */\n                    function copyRecoveryCodes() {\n                        var tmpTextarea = document.createElement(\"textarea\");\n                        var codes = document.getElementById(\"kc-recovery-codes-list\").getElementsByTagName(\"li\");\n                        for (i = 0; i < codes.length; i++) {\n                            tmpTextarea.value = tmpTextarea.value + codes[i].innerText + \"\\\\n\";\n                        }\n                        document.body.appendChild(tmpTextarea);\n                        tmpTextarea.select();\n                        document.execCommand(\"copy\");\n                        document.body.removeChild(tmpTextarea);\n                    }\n\n                    var copyButton = document.getElementById(\"copyRecoveryCodes\");\n                    copyButton && copyButton.addEventListener(\"click\", function () {\n                        copyRecoveryCodes();\n                    });\n\n                    /* download recovery codes  */\n                    function formatCurrentDateTime() {\n                        var dt = new Date();\n                        var options = {\n                            month: 'long',\n                            day: 'numeric',\n                            year: 'numeric',\n                            hour: 'numeric',\n                            minute: 'numeric',\n                            timeZoneName: 'short'\n                        };\n\n                        return dt.toLocaleString('en-US', options);\n                    }\n\n                    function parseRecoveryCodeList() {\n                        var recoveryCodes = document.querySelectorAll(\".kc-recovery-codes-list li\");\n                        var recoveryCodeList = \"\";\n\n                        for (var i = 0; i < recoveryCodes.length; i++) {\n                            var recoveryCodeLiElement = recoveryCodes[i].innerText;\n                            recoveryCodeList += recoveryCodeLiElement + \"\\\\r\\\\n\";\n                        }\n\n                        return recoveryCodeList;\n                    }\n\n                    function buildDownloadContent() {\n                        var recoveryCodeList = parseRecoveryCodeList();\n                        var dt = new Date();\n                        var options = {\n                            month: 'long',\n                            day: 'numeric',\n                            year: 'numeric',\n                            hour: 'numeric',\n                            minute: 'numeric',\n                            timeZoneName: 'short'\n                        };\n\n                        return fileBodyContent =\n                            \"${msgStr(\"recovery-codes-download-file-header\")}\\\\n\\\\n\" +\n                            recoveryCodeList + \"\\\\n\" +\n                            \"${msgStr(\"recovery-codes-download-file-description\")}\\\\n\\\\n\" +\n                            \"${msgStr(\"recovery-codes-download-file-date\")} \" + formatCurrentDateTime();\n                    }\n\n                    function setUpDownloadLinkAndDownload(filename, text) {\n                        var el = document.createElement('a');\n                        el.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n                        el.setAttribute('download', filename);\n                        el.style.display = 'none';\n                        document.body.appendChild(el);\n                        el.click();\n                        document.body.removeChild(el);\n                    }\n\n                    function downloadRecoveryCodes() {\n                        setUpDownloadLinkAndDownload('kc-download-recovery-codes.txt', buildDownloadContent());\n                    }\n\n                    var downloadButton = document.getElementById(\"downloadRecoveryCodes\");\n                    downloadButton && downloadButton.addEventListener(\"click\", downloadRecoveryCodes);\n\n                    /* print recovery codes */\n                    function buildPrintContent() {\n                        var recoveryCodeListHTML = document.getElementById('kc-recovery-codes-list').innerHTML;\n                        var styles =\n                            \\`@page { size: auto;  margin-top: 0; }\n                            body { width: 480px; }\n                            div { list-style-type: none; font-family: monospace }\n                            p:first-of-type { margin-top: 48px }\\`;\n\n                        return printFileContent =\n                            \"<html><style>\" + styles + \"</style><body>\" +\n                            \"<title>kc-download-recovery-codes</title>\" +\n                            \"<p>${msgStr(\"recovery-codes-download-file-header\")}</p>\" +\n                            \"<div>\" + recoveryCodeListHTML + \"</div>\" +\n                            \"<p>${msgStr(\"recovery-codes-download-file-description\")}</p>\" +\n                            \"<p>${msgStr(\"recovery-codes-download-file-date\")} \" + formatCurrentDateTime() + \"</p>\" +\n                            \"</body></html>\";\n                    }\n\n                    function printRecoveryCodes() {\n                        var w = window.open();\n                        w.document.write(buildPrintContent());\n                        w.print();\n                        w.close();\n                    }\n\n                    var printButton = document.getElementById(\"printRecoveryCodes\");\n                    printButton && printButton.addEventListener(\"click\", printRecoveryCodes);\n                `\n            }\n        ]\n    });\n\n    useEffect(() => {\n        insertScriptTags();\n    }, []);\n\n    return (\n        <Template\n            kcContext={kcContext}\n            i18n={i18n}\n            doUseDefaultCss={doUseDefaultCss}\n            classes={classes}\n            headerNode={msg(\"recovery-code-config-header\")}\n        >\n            <div className={clsx(\"pf-c-alert\", \"pf-m-warning\", \"pf-m-inline\", kcClsx(\"kcRecoveryCodesWarning\"))} aria-label=\"Warning alert\">\n                <div className=\"pf-c-alert__icon\">\n                    <i className=\"pficon-warning-triangle-o\" aria-hidden=\"true\" />\n                </div>\n                <h4 className=\"pf-c-alert__title\">\n                    <span className=\"pf-screen-reader\">Warning alert:</span>\n                    {msg(\"recovery-code-config-warning-title\")}\n                </h4>\n                <div className=\"pf-c-alert__description\">\n                    <p>{msg(\"recovery-code-config-warning-message\")}</p>\n                </div>\n            </div>\n\n            <ol id=\"kc-recovery-codes-list\" className={kcClsx(\"kcRecoveryCodesList\")}>\n                {recoveryAuthnCodesConfigBean.generatedRecoveryAuthnCodesList.map((code, index) => (\n                    <li key={index}>\n                        <span>{index + 1}:</span> {code.slice(0, 4)}-{code.slice(4, 8)}-{code.slice(8)}\n                    </li>\n                ))}\n            </ol>\n\n            {/* actions */}\n            <div className={kcClsx(\"kcRecoveryCodesActions\")}>\n                <button id=\"printRecoveryCodes\" className={clsx(\"pf-c-button\", \"pf-m-link\")} type=\"button\">\n                    <i className=\"pficon-print\" aria-hidden=\"true\" /> {msg(\"recovery-codes-print\")}\n                </button>\n                <button id=\"downloadRecoveryCodes\" className={clsx(\"pf-c-button\", \"pf-m-link\")} type=\"button\">\n                    <i className=\"pficon-save\" aria-hidden=\"true\" /> {msg(\"recovery-codes-download\")}\n                </button>\n                <button id=\"copyRecoveryCodes\" className={clsx(\"pf-c-button\", \"pf-m-link\")} type=\"button\">\n                    <i className=\"pficon-blueprint\" aria-hidden=\"true\" /> {msg(\"recovery-codes-copy\")}\n                </button>\n            </div>\n\n            {/* confirmation checkbox */}\n            <div className={kcClsx(\"kcFormOptionsClass\")}>\n                <input\n                    className={kcClsx(\"kcCheckInputClass\")}\n                    type=\"checkbox\"\n                    id=\"kcRecoveryCodesConfirmationCheck\"\n                    name=\"kcRecoveryCodesConfirmationCheck\"\n                    onChange={function () {\n                        //@ts-expect-error: This is code from the original theme, we trust it.\n                        document.getElementById(\"saveRecoveryAuthnCodesBtn\").disabled = !this.checked;\n                    }}\n                />\n                <label htmlFor=\"kcRecoveryCodesConfirmationCheck\">{msg(\"recovery-codes-confirmation-message\")}</label>\n            </div>\n\n            <form action={kcContext.url.loginAction} className={kcClsx(\"kcFormGroupClass\")} id=\"kc-recovery-codes-settings-form\" method=\"post\">\n                <input type=\"hidden\" name=\"generatedRecoveryAuthnCodes\" value={recoveryAuthnCodesConfigBean.generatedRecoveryAuthnCodesAsString} />\n                <input type=\"hidden\" name=\"generatedAt\" value={recoveryAuthnCodesConfigBean.generatedAt} />\n                <input type=\"hidden\" id=\"userLabel\" name=\"userLabel\" value={msgStr(\"recovery-codes-label-default\")} />\n\n                <LogoutOtherSessions kcClsx={kcClsx} i18n={i18n} />\n\n                {isAppInitiatedAction ? (\n                    <>\n                        <input\n                            type=\"submit\"\n                            className={kcClsx(\"kcButtonClass\", \"kcButtonPrimaryClass\", \"kcButtonLargeClass\")}\n                            id=\"saveRecoveryAuthnCodesBtn\"\n                            value={msgStr(\"recovery-codes-action-complete\")}\n                            disabled\n                        />\n                        <button\n                            type=\"submit\"\n                            className={kcClsx(\"kcButtonClass\", \"kcButtonDefaultClass\", \"kcButtonLargeClass\")}\n                            id=\"cancelRecoveryAuthnCodesBtn\"\n                            name=\"cancel-aia\"\n                            value=\"true\"\n                        >\n                            {msg(\"recovery-codes-action-cancel\")}\n                        </button>\n                    </>\n                ) : (\n                    <input\n                        type=\"submit\"\n                        className={kcClsx(\"kcButtonClass\", \"kcButtonPrimaryClass\", \"kcButtonBlockClass\", \"kcButtonLargeClass\")}\n                        id=\"saveRecoveryAuthnCodesBtn\"\n                        value={msgStr(\"recovery-codes-action-complete\")}\n                        disabled\n                    />\n                )}\n            </form>\n        </Template>\n    );\n}\n\nfunction LogoutOtherSessions(props: { kcClsx: KcClsx; i18n: I18n }) {\n    const { kcClsx, i18n } = props;\n\n    const { msg } = i18n;\n\n    return (\n        <div id=\"kc-form-options\" className={kcClsx(\"kcFormOptionsClass\")}>\n            <div className={kcClsx(\"kcFormOptionsWrapperClass\")}>\n                <div className=\"checkbox\">\n                    <label>\n                        <input type=\"checkbox\" id=\"logout-sessions\" name=\"logout-sessions\" value=\"on\" defaultChecked={true} />\n                        {msg(\"logoutOtherSessions\")}\n                    </label>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":["LoginRecoveryAuthnCodeConfig","props","kcContext","i18n","doUseDefaultCss","Template","classes","kcClsx","getKcClsx","recoveryAuthnCodesConfigBean","isAppInitiatedAction","msg","msgStr","insertScriptTags","useInsertScriptTags","componentOrHookName","scriptTags","type","textContent","useEffect","_jsxs","Object","assign","headerNode","children","className","clsx","_jsx","id","generatedRecoveryAuthnCodesList","map","code","index","slice","name","onChange","document","getElementById","disabled","this","checked","htmlFor","action","url","loginAction","method","value","generatedRecoveryAuthnCodesAsString","generatedAt","LogoutOtherSessions","_Fragment","defaultChecked"],"sourceRoot":""}